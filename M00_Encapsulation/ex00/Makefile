RED=\033[0;31m
GREEN=\033[0;32m
RESET=\033[0m
BKGRAY=\033[47;90m
BKGRAYGREEN=\033[1;92m
BKGRAYRED=\033[1;91m

################################################################################
# 									Executable	 	 						   #
################################################################################

NAME = m00_ex00

################################################################################
# 							Dir	Path	Variables 							   #
################################################################################

SRCDIR = src
INCDIR = inc
OBJDIR = obj

################################################################################
# 						Compiler and Flags	Variables						   #
################################################################################

CXX = c++
CXXFLAGS = -Wall -Wextra -Werror -std=c++98 -I $(INCDIR) 
RM = rm -f
RMD = rm -rf

################################################################################
# 							Files	Path	Variables 						   #
################################################################################

SRC = $(addprefix $(SRCDIR)/, AccountUUID.cpp  Money.cpp Bank.cpp main.cpp)
OBJ = $(patsubst $(SRCDIR)/%.cpp,$(OBJDIR)/%.o,$(SRC))

################################################################################
# 							Manual	Targets		 							   #
################################################################################

all: $(NAME)

clean:
	@if [ -d "$(OBJDIR)" ]; then $(RMD) $(OBJDIR); fi
	@echo "${BKGRAY}M00_Ex00_Encapsulation:${BKGRAYRED}- Obj${RESET}"

fclean: clean
	$(RM) $(NAME)
	@echo "${BKGRAY}M00_Ex00_Encapsulation: ${BKGRAYRED}- Exec${RESET}"

re: fclean all


################################################################################
# 						Auto Targets 				 						   #
################################################################################

$(NAME): $(OBJ)
	@$(CXX) $(CXXFLAGS) -o $@ $^

$(OBJDIR)/%.o: $(SRCDIR)/%.cpp | $(OBJDIR)
	@$(CXX) $(CXXFLAGS) -c $< -o $@

$(OBJDIR):
	@mkdir -p $(OBJDIR)

################################################################################
# 										PS		 	 						   #
################################################################################

.PHONY: all clean fclean re